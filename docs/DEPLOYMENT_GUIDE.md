# GitHub Pages 自動デプロイ (CI/CD) 解説ガイド

これまで行っていた「手動アップロード」と、今回導入する「自動デプロイ (GitHub Actions)」の違いや仕組みについて解説します。

## 1. そもそも「自動デプロイ」とは？

### 従来のやり方（手動アップロード）
1.  自分のパソコンで「完成版」を作成（ビルド）する。
2.  GitHubのウェブサイトをブラウザで開く。
3.  ファイルをドラッグ＆ドロップしてアップロードする。

**デメリット:**
*   毎回手作業が必要で面倒。
*   「最新版をアップロードし忘れた」「間違ったファイルを上げてしまった」というミスが起きがち。

### これからのやり方（自動デプロイ）
1.  自分のパソコンでコードを保存し、GitHubに **「プッシュ（送信）」** する。
2.  **以上完了。**

あとは、GitHubの中にいる**「ロボット (GitHub Actions)」**が勝手に動き出し、以下の作業をあなたの代わりに行ってくれます。
*   「新しいコードが来たな、よしビルドしよう」
*   「ビルドが成功したな、よし公開用サーバーに配置しよう」

つまり、**「コードを保存して送るだけで、Webサイトが勝手に更新される」** 状態になります。これが自動デプロイ（CI/CD）です。

## 2. 具体的に何を設定するのか？

この「ロボット」に指示を出すための**「指示書（レシピ）」**を作ります。それが今回作成する予定の `.github/workflows/deploy.yml` というファイルです。

このファイルには、以下のような手順が（プログラムの言葉で）書かれています。

1.  **いつ動く？ (Trigger):**
    *   `main` ブランチに新しいコードが届いたとき。
2.  **なにをする？ (Jobs):**
    *   GitHub上の仮想パソコンを立ち上げる。
    *   最新のコードを持ってくる。
    *   Node.js (プログラムを動かす環境) を用意する。
    *   `npm run build` を実行して、公開用のファイル (`dist/` フォルダ) を作る。
    *   できたファイルを GitHub Pages に公開する。

## 3. ユーザー（あなた）がやること

**特別な操作は必要ありません。**

今回、私がこの「指示書」を作成してリポジトリに含めます。
あなたはそれを**承認して取り込む（マージする）だけ**です。

それ以降は、あなたがいつも通りコードを書いて GitHub にプッシュするたびに、数分後には自動的に Web ページが更新されるようになります。

## 4. 今回の設定内容（技術的な補足）

今回は **`peaceiris/actions-gh-pages`** という仕組みを使います。

*   **処理の流れ:**
    1.  自動ロボットが `npm run build` で `dist` フォルダを作る。
    2.  ロボットが、その中身を **`gh-pages` という名前の専用ブランチ** にアップロードする。
    3.  GitHub Pages の設定で「`gh-pages` ブランチの中身を Web サイトとして表示する」ようにしておけば、サイトが更新される。

これにより、普段作業する `main` ブランチは「ソースコード置き場」、`gh-pages` ブランチは「公開用ファイル置き場」としてきれいに分離されます。

---

この仕組みを導入することで、デプロイの手間がゼロになり、**「コードを書くこと」により集中できるようになります。**
